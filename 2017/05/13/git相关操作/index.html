<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>Git相关 · Nancelglap</title><meta name="description" content="Git相关 - Nancelglap"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/gandalfr.css"><link rel="stylesheet" href="https://highlightjs.org/static/demo/styles/solarized-light.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="Nancelglap"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="http://wx3.sinaimg.cn/mw1024/8a2125c3gy1fgpv7wi9alj20qo0qo0xr.jpg" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">首页</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">归档</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Git相关</h1><div class="tags"><a href="/tags/server/" class="tag-title">#server</a><a href="/tags/git/" class="tag-title">#git</a><a href="/tags/github/" class="tag-title">#github</a></div><div class="post-info">2017年5月13日</div><div class="post-content"><blockquote>
<p>与git相关的内容</p>
</blockquote>
<a id="more"></a>
<blockquote>
<p>Git配置</p>
</blockquote>
<p>一、增加配置项<br><figure class="highlight mel"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git config --<span class="keyword">global</span>/<span class="keyword">system</span> 配置名 <span class="string">"值"</span></div></pre></td></tr></table></figure></p>
<p>1、如果只在当前项目增加配置<br>    （1）切换到当前项目<br>    （2）<code>git config 配置名 &quot;值&quot;</code><br>1、<em><code>--global</code></em> 将配置放到home目录下<em>（<code>~/.gitconfig</code>）</em><br>2、<em><code>--system</code></em> 将配置放到<em><code>/etc/.gitconfig</code></em>中<br>3、<em><code>--local</code></em> 将配置放到每一个项目中<br>4、常用配置有<em><code>user.name</code></em>、<em><code>user.eamil</code></em>，<em><code>color.ui</code></em>，<em><code>core.editor</code></em></p>
<p>二、查看配置项<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">config</span> 配置名</div></pre></td></tr></table></figure></p>
<blockquote>
<p>Git基本工作流程</p>
</blockquote>
<p>1、查看修改状态<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git status</span></div></pre></td></tr></table></figure></p>
<p>2、初始化当前目录<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git init</span></div></pre></td></tr></table></figure></p>
<p>3、如果有文件修改，先加入 <em><code>staged area</code></em><br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">git</span> <span class="keyword">add </span>文件名 / git <span class="keyword">add </span>.</div></pre></td></tr></table></figure></p>
<p>4、更新提交到 <em><code>staged area</code></em> 的内容（只修改没执行<code>git add</code>的不会更新）<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git</span> commit -m <span class="string">"更新描述"</span></div></pre></td></tr></table></figure></p>
<p>5、查看 <em><code>commit</code></em> 的内容<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">log</span>     <span class="comment">//按q退出</span></div></pre></td></tr></table></figure></p>
<blockquote>
<p>.gitignore</p>
</blockquote>
<p>将上传的文件内容加入此文件中，更新会忽略此文件<br>1、用PhpStorm编辑的，加入<em><code>.idea</code></em><br>2、用Mac系统的，加入<em><code>.DS_Store</code></em></p>
<blockquote>
<p>Git分支</p>
</blockquote>
<p><strong>想修改之前的bug，但是又不想将还没写完的新内容提交上去等</strong></p>
<p>1、查看分支<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git branch</span></div></pre></td></tr></table></figure></p>
<p>2、回到某个文件提交之前的内容<br><figure class="highlight ada"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git checkout <span class="comment">-- app/Http/routes.php</span></div></pre></td></tr></table></figure></p>
<p>3、创建分支、切换到分支<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">git</span> <span class="keyword">branch </span><span class="keyword">BranchName</span></div><div class="line"><span class="symbol">git</span> checkout <span class="keyword">BranchName</span></div><div class="line"></div><div class="line"><span class="symbol">git</span> checkout -<span class="keyword">b </span><span class="keyword">BranchName </span> //创建分支并切换到该分支</div></pre></td></tr></table></figure></p>
<p>4、合并分支（在<em><code>matser</code></em>下操作）<br><figure class="highlight cos"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="keyword">merge</span> BranchName</div></pre></td></tr></table></figure></p>
<p>5、删除分支<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">git</span> <span class="keyword">branch </span>-d <span class="keyword">BranchName</span></div></pre></td></tr></table></figure></p>
<blockquote>
<p>Git分支merge冲突的修改</p>
</blockquote>
<p><strong>当<em><code>master</code></em>和分支中同个文件修改存在冲突，则需要处理</strong></p>
<h2 id="必须是两个分支的文件都已经git-add和git-commit-m-quot-content-quot-操作"><a href="#必须是两个分支的文件都已经git-add和git-commit-m-quot-content-quot-操作" class="headerlink" title="必须是两个分支的文件都已经git add和git commit -m&quot;content&quot;操作"></a>必须是两个分支的文件都已经<em><code>git add</code></em>和<em><code>git commit -m&quot;content&quot;</code></em>操作</h2><p>1、切换到<em><code>master</code></em>，执行 <em><code>git merge BranchName</code></em>，会报有冲突</p>
<p>2、进入冲突文件，删掉不要的冲突内容，然后执行<br><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">git <span class="keyword">add</span><span class="bash"> fileName</span></div><div class="line">git commit</div><div class="line"></div><div class="line">//进入到vim后保存退出</div></pre></td></tr></table></figure></p>
<blockquote>
<p>Git设置快捷键</p>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="keyword">config</span> --<span class="keyword">global</span> <span class="keyword">alias</span><span class="variable">.s</span> status  <span class="comment">//设置后用 git s 替代 git status</span></div></pre></td></tr></table></figure>
<p><strong>全局设置快捷键</strong><br><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">vim ~<span class="string">/.zshrc</span></div><div class="line"></div><div class="line"><span class="string">//</span>加入以下内容</div><div class="line"><span class="keyword">alias</span> gs=<span class="string">"git status"</span>   <span class="string">//</span>设置后用 gs 替代 git status</div></pre></td></tr></table></figure></p>
<blockquote>
<p>Git stash</p>
</blockquote>
<p><strong>运用场景：如果在一个分支上开发一个模块同时，又要回到master中改bug，执行<em><code>git stash</code></em>可以将分支上的修改先放到一边，回到<em><code>master</code></em>中更新内容</strong></p>
<figure class="highlight sqf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">git stash <span class="built_in">list</span>      <span class="comment">//查看之前拿开的内容</span></div><div class="line">git stash <span class="built_in">apply</span> stash@&#123;num&#125;     <span class="comment">//恢复相应num的内容</span></div><div class="line">git stash pop       <span class="comment">//回复内容并删除，省略掉drop步骤</span></div><div class="line">git stash <span class="built_in">drop</span>      <span class="comment">//删掉list中拿开的内容</span></div><div class="line">`</div></pre></td></tr></table></figure>
<h3 id="作用："><a href="#作用：" class="headerlink" title="作用："></a>作用：</h3><p>1、将在 <em><code>master</code></em> 中修改好的合并到<strong>未完成</strong>的分支上<br>2、<em><code>master</code></em> 未融合<strong>未完成</strong>的分支的内容</p>
<h3 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h3><p><strong>一、修改 <em><code>master</code></em> 上的内容，合并到分支上，但分支内容不合并到 <em><code>master</code></em> 上</strong></p>
<p>1、修改分支的内容</p>
<p>2、在分支执行 <em><code>git stash</code></em></p>
<p>3、在 <em><code>master</code></em> 分支中更改内容，改完之后<em><code>gaa</code></em>、<em><code>gc</code> “content”</em></p>
<p>4、回到 <em><code>master</code></em> 分支，执行<em><code>git merge BranchName</code></em> 合并</p>
<p><strong>二、继续完成分支上的内容，完成后合并到 <em><code>master</code></em></strong></p>
<p>1、<em><code>git checkout BranchName</code></em>切换到分支</p>
<p>2、<em><code>git stash apply</code></em> 或 <em><code>git stash pop</code></em> 拿回原来拿开的问题</p>
<p>3、继续写分支内容，写完然后 <em><code>gaa</code></em>、<em><code>gc</code> “content”</em></p>
<p>4、回到 <em><code>master</code></em> 分支，执行<em><code>git merge BranchName</code></em> 合并</p>
<blockquote>
<p>本地更新代码后更新到github上</p>
</blockquote>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git <span class="keyword">add</span><span class="bash"> .</span></div><div class="line">git commit -m <span class="string">"描述内容"</span></div><div class="line">git push origin master</div></pre></td></tr></table></figure>
<blockquote>
<p>本地更新到远程服务器上</p>
</blockquote>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">git add .</div><div class="line">git commit -m <span class="string">"描述内容"</span>     <span class="comment">//只有更改文件的目录才会改描述内容</span></div><div class="line">git <span class="keyword">push</span></div><div class="line"></div><div class="line"><span class="comment">//切到服务器，进入项目目录</span></div><div class="line">cd <span class="regexp">/var/</span>www<span class="regexp">/laravel/</span></div><div class="line">git pull</div></pre></td></tr></table></figure>
</div></article></div></main><footer><div class="paginator"><a href="/2017/05/13/VPS上配置和域名解析/" class="prev">上一篇</a><a href="/2017/05/14/PHP-面向对象编程/" class="next">下一篇</a></div><div class="copyright"><p>© 2017 <a href="http://yoursite.com">Nancelglap</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/MikeCoder/hexo-theme-gandalfr" target="_blank">hexo-theme-gandalfr</a>.</p></div></footer></div><script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js" crossorigin="anonymous"></script><script src="//cdn.bootcss.com/jquery/3.1.1/jquery.js" crossorigin="anonymous"></script><script>$(document).ready(function() { $('pre').each(function(i, block) { hljs.highlightBlock(block); }); });</script></body></html>